<pre class="code">
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',1);">  1</a></span><span class="line"><span class="keyword">function</span> <span class="var type1" id="S2T8U3">yout_delay</span>   = delay_block(<span class="var type1" id="S3T8U6">yout</span>,<span class="var type1" id="S4T7U7">ydelay</span>, <span class="var type1" id="S5T2U8">structure</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',2);">  2</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',3);">  3</a></span><span class="line"><span class="comment">% Inputs: </span></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',4);">  4</a></span><span class="line"><span class="comment">% yout: measurements output</span></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',5);">  5</a></span><span class="line"><span class="comment">% ydelay: delay traces</span></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',6);">  6</a></span><span class="line"><span class="comment">% structure: other necessary information </span></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',7);">  7</a></span><span class="line"><span class="comment">% Inputs: </span></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',8);">  8</a></span><span class="line"><span class="comment">% yout: measurements output</span></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',9);">  9</a></span><span class="line"><span class="comment">% ydelay: delay traces</span></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',10);"> 10</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',11);"> 11</a></span><span class="line"><span class="comment">% Outputs:</span></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',12);"> 12</a></span><span class="line"><span class="comment">% yout_delay: delayed measurements output for controller</span></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',13);"> 13</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',14);"> 14</a></span><span class="line"><span class="keyword">persistent</span> <span class="var type2" id="S6T0U10">delay1</span> <span class="var type2" id="S7T0U11">i</span> <span class="var type2" id="S8T0U12">yin_d</span></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',15);"> 15</a></span><span class="line"><span class="keyword">persistent</span> <span class="var type2" id="S9T0U14">yin</span> <span class="var type2" id="S10T0U15">count1</span> <span class="var type2" id="S11T0U16">delay</span> <span class="var type2" id="S12T0U17">yin_all</span> <span class="var type2" id="S13T0U18">num</span></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',16);"> 16</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',17);"> 17</a></span><span class="line">eml.extrinsic(<span class="string">'disp'</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',18);"> 18</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',19);"> 19</a></span><span class="line"><span class="comment">% initialize parameters</span></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',20);"> 20</a></span><span class="line"><span class="keyword">if</span> <span class="mxinfo" id="T1:U5">isempty(<span class="var type2" id="S9T0U29">yin</span>)</span></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',21);"> 21</a></span><span class="line">    <span class="mxinfo" id="T3:U6"><span class="var type1" id="S10T3U32">count1</span> = <span class="mxinfo" id="T3:U8"><span class="var type1" id="S20T3U33"><span class="var type1" id="S5T2U34">structure</span>.count</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',22);"> 22</a></span><span class="line">    <span class="mxinfo" id="T3:U10"><span class="var type1" id="S7T3U38">i</span> = <span class="mxinfo" id="T3:U12"><span class="var type1" id="S22T3U39"><span class="var type1" id="S5T2U40">structure</span>.i</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',23);"> 23</a></span><span class="line">    <span class="mxinfo" id="T4:U14"><span class="var type1" id="S9T4U44">yin</span> = <span class="mxinfo" id="T4:U16"><span class="var type1" id="S23T4U45"><span class="var type1" id="S5T2U46">structure</span>.yin</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',24);"> 24</a></span><span class="line">    <span class="mxinfo" id="T8:U18"><span class="var type1" id="S8T8U50">yin_d</span> = <span class="mxinfo" id="T5:U20"><span class="var type1" id="S24T5U51"><span class="var type1" id="S5T2U52">structure</span>.yin_d</span></span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',25);"> 25</a></span><span class="line">    <span class="mxinfo" id="T10:U22"><span class="var type1" id="S12T10U56">yin_all</span> = <span class="mxinfo" id="T10:U24">zeros(10001,4)</span></span>; <span class="comment">%zeros (step count, sensor number)</span></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',26);"> 26</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',27);"> 27</a></span><span class="line">    <span class="mxinfo" id="T6:U25"><span class="var type1" id="S6T6U63">delay1</span> = <span class="mxinfo" id="T6:U27"><span class="var type1" id="S21T6U64"><span class="var type1" id="S5T2U65">structure</span>.delay1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',28);"> 28</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',29);"> 29</a></span><span class="line">    <span class="mxinfo" id="T9:U29"><span class="var type1" id="S11T9U69">delay</span> = <span class="mxinfo" id="T9:U31">zeros(1,5)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',30);"> 30</a></span><span class="line">    <span class="mxinfo" id="T9:U32"><span class="var type1" id="S11T9U76">delay</span> = <span class="mxinfo" id="T9:U34"><span class="var type1" id="S4T7U78">ydelay</span>'</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',31);"> 31</a></span><span class="line">    <span class="mxinfo" id="T3:U36"><span class="var type1" id="S13T3U81">num</span> = <span class="mxinfo" id="T3:U38">0</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',32);"> 32</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',33);"> 33</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',34);"> 34</a></span><span class="line"><span class="comment">% 4-th order (Runge-kutta) method has intermidiate points, so update the delay traces and yin when rem(i,4)==0</span></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',35);"> 35</a></span><span class="line"><span class="keyword">if</span> rem(<span class="var type1" id="S7T3U88">i</span>,4)==0</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',36);"> 36</a></span><span class="line">    <span class="mxinfo" id="T3:U40"><span class="var type1" id="S13T3U93">num</span> = <span class="mxinfo" id="T3:U42"><span class="var type1" id="S13T3U95">num</span>+<span class="mxinfo" id="T3:U44">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',37);"> 37</a></span><span class="line">    <span class="mxinfo" id="T9:U45"><span class="mxinfo" id="T9:U46"><span class="var type1" id="S6T6U100">delay1</span>(<span class="var type1" id="S13T3U101">num</span>,<span class="mxinfo" id="T11:U49">:</span>)</span> = <span class="mxinfo" id="T9:U50"><span class="var type1" id="S4T7U104">ydelay</span>'</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',38);"> 38</a></span><span class="line">    <span class="keyword">for</span> <span class="var type1" id="S18T3U107">kk</span> = <span class="mxinfo" id="T3:U53">1</span>:<span class="mxinfo" id="T3:U54">4</span></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',39);"> 39</a></span><span class="line">        <span class="mxinfo" id="T3:U55"><span class="mxinfo" id="T3:U56"><span class="var type1" id="S12T10U114">yin_all</span>(<span class="var type1" id="S13T3U115">num</span>,<span class="var type1" id="S18T3U116">kk</span>)</span> = <span class="mxinfo" id="T3:U60"><span class="var type1" id="S3T8U118">yout</span>(<span class="var type1" id="S18T3U119">kk</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',40);"> 40</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',41);"> 41</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',42);"> 42</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',43);"> 43</a></span><span class="line"><span class="comment">% disp('count1')</span></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',44);"> 44</a></span><span class="line"><span class="comment">% disp(count1)</span></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',45);"> 45</a></span><span class="line"><span class="comment">% delay = delay1(count,:);</span></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',46);"> 46</a></span><span class="line"><span class="comment">% disp('delay1')</span></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',47);"> 47</a></span><span class="line"><span class="comment">% disp(delay1)</span></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',48);"> 48</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',49);"> 49</a></span><span class="line"><span class="keyword">if</span> rem(<span class="var type1" id="S7T3U125">i</span>,40)==16 <span class="comment">% check remains after dividing</span></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',50);"> 50</a></span><span class="line">    <span class="mxinfo" id="T3:U64"><span class="var type1" id="S19T3U130">j</span>=<span class="mxinfo" id="T3:U66">1</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',51);"> 51</a></span><span class="line">    <span class="keyword">if</span> <span class="var type1" id="S11T9U136">delay</span>(1,<span class="var type1" id="S19T3U139">j</span>+1)~=88</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',52);"> 52</a></span><span class="line">        <span class="mxinfo" id="T3:U69"><span class="mxinfo" id="T3:U70"><span class="var type1" id="S9T4U145">yin</span>(<span class="mxinfo" id="T3:U72"><span class="var type1" id="S19T3U146">j</span></span>)</span> = <span class="mxinfo" id="T3:U74"><span class="var type1" id="S12T10U148">yin_all</span>(<span class="mxinfo" id="T12:U76"><span class="var type1" id="S13T3U150">num</span>-<span class="mxinfo" id="T3:U78">4</span></span>,<span class="mxinfo" id="T12:U79"><span class="var type1" id="S19T3U152">j</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',53);"> 53</a></span><span class="line">        disp(<span class="string">'yin'</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',54);"> 54</a></span><span class="line">        disp(<span class="var type1" id="S9T4U160">yin</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',55);"> 55</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',56);"> 56</a></span><span class="line">    <span class="mxinfo" id="T8:U82"><span class="var type1" id="S8T8U163">yin_d</span> = <span class="mxinfo" id="T8:U84"><span class="var type1" id="S9T4U165">yin</span>'</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',57);"> 57</a></span><span class="line">    disp(<span class="string">'yin_d'</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',58);"> 58</a></span><span class="line">    disp(<span class="var type1" id="S8T8U173">yin_d</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',59);"> 59</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',60);"> 60</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',61);"> 61</a></span><span class="line"><span class="keyword">if</span> rem(<span class="var type1" id="S7T3U179">i</span>,40)==24 <span class="comment">% check remains after dividing</span></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',62);"> 62</a></span><span class="line">    <span class="mxinfo" id="T3:U88"><span class="var type1" id="S19T3U184">j</span>=<span class="mxinfo" id="T3:U90">2</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',63);"> 63</a></span><span class="line">    <span class="keyword">if</span> <span class="var type1" id="S11T9U190">delay</span>(1,<span class="var type1" id="S19T3U193">j</span>+1)~=88</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',64);"> 64</a></span><span class="line">        <span class="mxinfo" id="T3:U93"><span class="mxinfo" id="T3:U94"><span class="var type1" id="S9T4U199">yin</span>(<span class="mxinfo" id="T3:U96"><span class="var type1" id="S19T3U200">j</span></span>)</span> = <span class="mxinfo" id="T3:U98"><span class="var type1" id="S12T10U202">yin_all</span>(<span class="mxinfo" id="T12:U100"><span class="var type1" id="S13T3U204">num</span>-<span class="mxinfo" id="T3:U102">2</span></span>,<span class="mxinfo" id="T12:U103"><span class="var type1" id="S19T3U206">j</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',65);"> 65</a></span><span class="line">        disp(<span class="string">'yin'</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',66);"> 66</a></span><span class="line">        disp(<span class="var type1" id="S9T4U214">yin</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',67);"> 67</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',68);"> 68</a></span><span class="line">    <span class="mxinfo" id="T8:U106"><span class="var type1" id="S8T8U217">yin_d</span> = <span class="mxinfo" id="T8:U108"><span class="var type1" id="S9T4U219">yin</span>'</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',69);"> 69</a></span><span class="line">    disp(<span class="string">'yin_d'</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',70);"> 70</a></span><span class="line">    disp(<span class="var type1" id="S8T8U227">yin_d</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',71);"> 71</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',72);"> 72</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',73);"> 73</a></span><span class="line"><span class="keyword">if</span> rem(<span class="var type1" id="S7T3U233">i</span>,40)==32 <span class="comment">% check remains after dividing</span></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',74);"> 74</a></span><span class="line">    <span class="mxinfo" id="T3:U112"><span class="var type1" id="S19T3U238">j</span>=<span class="mxinfo" id="T3:U114">3</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',75);"> 75</a></span><span class="line">    <span class="keyword">if</span> <span class="var type1" id="S11T9U244">delay</span>(1,<span class="var type1" id="S19T3U247">j</span>+1)~=88</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',76);"> 76</a></span><span class="line">        <span class="mxinfo" id="T3:U117"><span class="mxinfo" id="T3:U118"><span class="var type1" id="S9T4U253">yin</span>(<span class="mxinfo" id="T3:U120"><span class="var type1" id="S19T3U254">j</span></span>)</span> = <span class="mxinfo" id="T3:U122"><span class="var type1" id="S12T10U256">yin_all</span>(<span class="mxinfo" id="T12:U124"><span class="var type1" id="S13T3U258">num</span>-<span class="mxinfo" id="T3:U126">2</span></span>,<span class="mxinfo" id="T12:U127"><span class="var type1" id="S19T3U260">j</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',77);"> 77</a></span><span class="line">        disp(<span class="string">'yin'</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',78);"> 78</a></span><span class="line">        disp(<span class="var type1" id="S9T4U268">yin</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',79);"> 79</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',80);"> 80</a></span><span class="line">    <span class="mxinfo" id="T8:U130"><span class="var type1" id="S8T8U271">yin_d</span> = <span class="mxinfo" id="T8:U132"><span class="var type1" id="S9T4U273">yin</span>'</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',81);"> 81</a></span><span class="line">    disp(<span class="string">'yin_d'</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',82);"> 82</a></span><span class="line">    disp(<span class="var type1" id="S8T8U281">yin_d</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',83);"> 83</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',84);"> 84</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',85);"> 85</a></span><span class="line"><span class="keyword">if</span> rem(<span class="var type1" id="S7T3U288">i</span>,40)==0 &amp;&amp; <span class="var type1" id="S7T3U292">i</span>~=0 <span class="comment">% check remains after dividing</span></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',86);"> 86</a></span><span class="line">    <span class="mxinfo" id="T3:U137"><span class="var type1" id="S19T3U296">j</span>=<span class="mxinfo" id="T3:U139">4</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',87);"> 87</a></span><span class="line">    <span class="keyword">if</span> <span class="var type1" id="S11T9U302">delay</span>(1,<span class="var type1" id="S19T3U305">j</span>+1)~=88</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',88);"> 88</a></span><span class="line">        <span class="mxinfo" id="T3:U142"><span class="mxinfo" id="T3:U143"><span class="var type1" id="S9T4U311">yin</span>(<span class="mxinfo" id="T3:U145"><span class="var type1" id="S19T3U312">j</span></span>)</span> = <span class="mxinfo" id="T3:U147"><span class="var type1" id="S12T10U314">yin_all</span>(<span class="mxinfo" id="T12:U149"><span class="var type1" id="S13T3U316">num</span>-<span class="mxinfo" id="T3:U151">2</span></span>,<span class="mxinfo" id="T12:U152"><span class="var type1" id="S19T3U318">j</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',89);"> 89</a></span><span class="line">        disp(<span class="string">'yin'</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',90);"> 90</a></span><span class="line">        disp(<span class="var type1" id="S9T4U326">yin</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',91);"> 91</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',92);"> 92</a></span><span class="line">    <span class="mxinfo" id="T8:U155"><span class="var type1" id="S8T8U329">yin_d</span> = <span class="mxinfo" id="T8:U157"><span class="var type1" id="S9T4U331">yin</span>'</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',93);"> 93</a></span><span class="line">    disp(<span class="string">'yin_d'</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',94);"> 94</a></span><span class="line">    disp(<span class="var type1" id="S8T8U339">yin_d</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',95);"> 95</a></span><span class="line">    <span class="mxinfo" id="T3:U160"><span class="var type1" id="S10T3U342">count1</span> = <span class="mxinfo" id="T3:U162"><span class="var type1" id="S10T3U344">count1</span>+<span class="mxinfo" id="T3:U164">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',96);"> 96</a></span><span class="line">    <span class="mxinfo" id="T9:U165"><span class="var type1" id="S11T9U348">delay</span> = <span class="mxinfo" id="T9:U167"><span class="var type1" id="S6T6U350">delay1</span>(<span class="var type1" id="S10T3U351">count1</span>,<span class="mxinfo" id="T11:U170">:</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',97);"> 97</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',98);"> 98</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',99);"> 99</a></span><span class="line">disp(<span class="string">'delay'</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',100);">100</a></span><span class="line">disp(<span class="var type1" id="S11T9U360">delay</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',101);">101</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',102);">102</a></span><span class="line"><span class="mxinfo" id="T8:U172"><span class="var type1" id="S2T8U363">yout_delay</span> = <span class="var type1" id="S8T8U364">yin_d</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',103);">103</a></span><span class="line">disp(<span class="string">'yout_delay'</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',104);">104</a></span><span class="line">disp(<span class="var type1" id="S2T8U373">yout_delay</span>')</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',105);">105</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',106);">106</a></span><span class="line"><span class="mxinfo" id="T3:U176"><span class="var type1" id="S7T3U376">i</span> = <span class="mxinfo" id="T3:U178"><span class="var type1" id="S7T3U378">i</span>+<span class="mxinfo" id="T3:U180">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',107);">107</a></span><span class="line">disp(<span class="string">'i'</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',108);">108</a></span><span class="line">disp(<span class="var type1" id="S7T3U387">i</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',109);">109</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',110);">110</a></span><span class="line"><span class="comment">% disp('Yout')</span></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',111);">111</a></span><span class="line"><span class="comment">% disp( yout)</span></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',112);">112</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',113);">113</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="matlab: emlcprivate('irOpenToLine','#230#SIMUL_step_delay_Embed_integrated_v2/Delayed Data Block#eML_blk_kernel#',114);">114</a></span><span class="line"></span></span>
</pre>
